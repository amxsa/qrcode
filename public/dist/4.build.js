webpackJsonp([4],{173:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var l=a(9);e.default={props:{},data:function(){return{PageDisplay:!1,SubjectsID:"",IncomeSources:"",OrderNumbers:"",options:[],status:"",DistributionRecordS:[],DetailedAccount:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入角色",trigger:"blur"}],description:[{required:!0,message:"请输入角色权限说明",trigger:"blur"}]},addForm:{name:"",author:"",publishAt:"",description:""},usersArray:[],currentPage:1,page_size:10,total:1,loadListing:!0,loadDetailsing:!0}},created:function(){this.RecordStart(),this.tagList()},methods:{tagList:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("user")),s={access_token:e.access_token,business_uuid:this.$route.query.business_uuid};a.i(l.i)(s).then(function(e){0==e.code?t.options=e.content.list:t.$notify.error({title:"错误提示",message:e.message})})},SubjectSearch:function(){var t=this;if(""==this.SubjectsID&&""==this.OrderNumbers)this.$message("请输入搜索条件");else{var e=JSON.parse(window.sessionStorage.getItem("user")),s={access_token:e.access_token,business_uuid:this.$route.query.business_uuid,tag_uuid:this.SubjectsID,general_uuid:this.$route.query.general_uuid,map_id:this.$route.query.map_id,out_trade_no:this.OrderNumbers,page:this.currentPage,page_size:this.page_size};a.i(l.m)(s).then(function(e){0==e.code?(t.DistributionRecordS=e.content.list,t.total=e.content.total,e.content.total>10&&(t.PageDisplay=!0)):t.$notify.error({title:"错误提示",message:e.message})})}},details_Click:function(t,e){var r=this;this.DetailedAccount=!0;var i=JSON.parse(window.sessionStorage.getItem("user")),o=s({access_token:i.access_token,business_uuid:this.$route.query.business_uuid,tag_order_id:e.id},"business_uuid",e.business_uuid);a.i(l.n)(o).then(function(t){0==t.code?(r.loadDetailsing=!1,r.usersArray=t.content.list):r.$notify.error({title:"错误提示",message:t.message})})},NewAdd:function(){this.Add_Visible=!0},blackPage:function(){this.$router.go(-1)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.currentPage=t,this.RecordStart()},handleCurrentChange:function(t){console.log("当前页: "+t),this.currentPage=t,this.RecordStart()},RecordStart:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("user")),s={access_token:e.access_token,business_uuid:this.$route.query.business_uuid,general_uuid:this.$route.query.general_uuid,tag_uuid:this.$route.query.tag_uuid,map_id:this.$route.query.map_id,out_trade_no:"",page:this.currentPage,page_size:this.page_size};a.i(l.m)(s).then(function(e){0==e.code?(t.loadListing=!1,t.DistributionRecordS=e.content.list,t.total=e.content.total,e.content.total>10?t.PageDisplay=!0:t.PageDisplay=!1):(t.$notify.error({title:"错误提示",message:e.message}),"402"==e.code&&(_this.$router.push({path:"/login"}),sessionStorage.removeItem("user")))})}}}},183:function(t,e,a){e=t.exports=a(5)(),e.push([t.i,".cell{text-align:center}.el-dialog--small{width:90%}a{text-decoration:none}li{list-style-type:none}.block{height:auto}.block li{float:left;margin:0 10px}.box_table{text-align:center}",""])},189:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-content"},[a("ul",{staticClass:"block"},[a("li",[a("span",{staticClass:"demonstration"},[t._v("业务订单")]),t._v(" "),a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入订单号",size:"small"},model:{value:t.OrderNumbers,callback:function(e){t.OrderNumbers=e},expression:"OrderNumbers"}})],1),t._v(" "),a("li",[a("span",{staticClass:"demonstration"},[t._v("选择科目")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择科目",size:"small"},model:{value:t.SubjectsID,callback:function(e){t.SubjectsID=e},expression:"SubjectsID"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"search",size:"small"},on:{click:t.SubjectSearch}}),t._v(" "),a("li",{staticStyle:{float:"right","margin-right":"100px"}},[a("el-button",{attrs:{plain:!0,type:"info",size:"small"},on:{click:t.blackPage}},[t._v("返回")])],1)],1),t._v(" "),a("div",{staticClass:"box_table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadListing,expression:"loadListing"}],staticStyle:{width:"100%"},attrs:{data:t.DistributionRecordS,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"记录编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"general_name",label:"商户类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tag_name",label:"科目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"business_name",label:"商户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"out_trade_no",label:"业务订单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"split_amount",label:"业务订单金额（元）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"split_amount",label:"应分总金额（元）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"split_amount",label:"实分总金额（元）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_at",label:"分成时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("未处理")]):t._e(),t._v(" "),2==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("部分已处理分账到具体用户")]):t._e(),t._v(" "),3==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("全部已处理分账到具体账户")]):t._e(),t._v(" "),4==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("全部都处理失败")]):t._e(),t._v(" "),5==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("部分回滚")]):t._e(),t._v(" "),6==e.row.state?a("el-button",{attrs:{type:"text",size:"small"}},[t._v("全部回滚")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"msg",label:"失败原因"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.details_Click(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"分账详情",width:"80%"},model:{value:t.DetailedAccount,callback:function(e){t.DetailedAccount=e},expression:"DetailedAccount"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadDetailsing,expression:"loadDetailsing"}],staticStyle:{width:"100%"},attrs:{data:t.usersArray,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"split_target_name",label:"分成方",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"分账方类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.split_type?a("el-tag",{attrs:{type:"primary"}},[t._v("个人")]):t._e(),t._v(" "),2==e.row.split_type?a("el-tag",{attrs:{type:"primary"}},[t._v("岗位")]):t._e(),t._v(" "),3==e.row.split_type?a("el-tag",{attrs:{type:"primary"}},[t._v("组织")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"split_account_amount",label:"分配到账户上的金额(元)",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"split_finance_pano",label:"分配的金融平台货币账户",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"split_result",label:"分账结果",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_at",label:"创建时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_at",label:"更新时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderno",label:"订单号（内部记录）",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"out_trade_no",label:"商户订单号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tag_id",label:"科目uuid",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_source_id",label:"来源订单id",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"general_uuid",label:"商户类目uuid",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"general_name",label:"商户类目名称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"community_name",label:"小区名称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?a("el-tag",{attrs:{type:"primary"}},[t._v("未处理")]):t._e(),t._v(" "),2==e.row.state?a("el-tag",{attrs:{type:"primary"}},[t._v("请求金融平台成功")]):t._e(),t._v(" "),3==e.row.state?a("el-tag",{attrs:{type:"primary"}},[t._v("请求金融平台失败")]):t._e(),t._v(" "),4==e.row.state?a("el-tag",{attrs:{type:"primary"}},[t._v("金额不足")]):t._e()]}}])})],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.PageDisplay,expression:"PageDisplay"}],staticStyle:{float:"right",margin:"10px 35px"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.page_size,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)])},staticRenderFns:[]}},195:function(t,e,a){var s=a(183);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(8)("2ac4fe1f",s,!0)},47:function(t,e,a){function s(t){a(195)}var l=a(6)(a(173),a(189),s,null,null);t.exports=l.exports}});
//# sourceMappingURL=4.build.js.map